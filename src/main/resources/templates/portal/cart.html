<!DOCTYPE html>
<html lang="en" xmlns:th="https://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" type="text/css" th:href="@{/css/bootstrap.min.css}" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" th:href="@{/css/bootstrap-table.min.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/fa.css}">
    <link rel="stylesheet" type="text/css" th:href="@{/css/ahn.css}" crossorigin="anonymous">
    <script th:src="@{/js/jquery.js}" type="text/javascript"></script>
    <script th:src="@{/js/popper.min.js}" type="text/javascript"></script>
    <script th:src="@{/js/bootstrap.min.js}" type="text/javascript"></script>
    <script th:src="@{/js/bootstrap-table.min.js}" type="text/javascript"></script>
    <script th:src="@{/js/bootstrap-table-zh-CN.min.js}" type="text/javascript"></script>
    <script th:src="@{/js/sweetalert.min.js}" type="text/javascript"></script>
    <script th:src="@{/js/index.js}" type="text/javascript"></script>
    <title>StrongHold Coffee & Roasting</title>
</head>
<body>

<!-- Nav Statrt -->
<div th:replace="portal/portal_nav_header::portal_nav_header"></div>
<!-- // Nav End -->

<!-- Content Start -->
<div class="container ahn-container">
    <div class="con">
        <!-- Contents Real Start -->
        <h3>Customer List</h3>
        <div id="toolbar">
            <a role="button" href="#" th:href="@{/page/user/create}" class="btn btn-primary">+ New</a>
        </div>
        <!-- User List Table Start -->
        <table class="table ahn-table"
               id="userListTable"
               data-toggle="userListTable"
               data-show-columns="false"
               data-search="false"
               data-sort-order="asc"
        >
        </table>
        <!-- //User List Table End -->
        <!-- // Contents Real End -->

    </div>
</div>
<!-- // Content Start -->
</body>
<script type="text/javascript" th:inline="javascript">
    const tableColumns = [

        { field : 'username', title : '用户名', align: 'center'},
        { field : 'company', title : '公司名', align: 'center' },
        { field : 'companyType', title : '公司类型', align: 'center' } ,
        { field : 'deviceSerial', title : '设备序列号', align: 'left' },
        { field : 'deviceModel', title : '设备型号', align: 'left' },
        { field : 'deviceColor', title : '设备颜色', align: 'center' },
        {
            title : '操作',
            formatter: function (value, row, index) {
                return [
                    '<a class="btn btn-success btnEdit" type="button" href="/page/user/edit/' + row.id + '">编辑</a>&nbsp;&nbsp;',
                    '<a class="btn btn-info btnSpec" type="button" href="#this" th:href="@{/page/user/create}">规格</a>',
                ].join("");
            }
        }
    ];

    $(function () {
        const refreshUserList = () => {
            var oTable = new TableInit("#userListTable", '/api/user/list', tableColumns);
            oTable.Init();
        };

        refreshUserList();
    });
</script>
</html>